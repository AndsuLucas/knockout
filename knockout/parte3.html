<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title></title>
		<link rel="stylesheet" href="">
	</head>
	<body>
		<div class="heading">
			<input type="checkbox" data-bind="checked: selectedAllProduce" title="Select all/none"/> Produce
		</div>
		<div data-bind="foreach: produce">
			<label>
				<input type="checkbox" data-bind="checkedValue: $data, checked: $parent.selectedProduce"/>
				<span data-bind="text: r"></span>
			</label>
		</div>
		
	</body>
	<script type="text/javascript" src="knockout.js"></script>
	<script  type="text/javascript" charset="utf-8" async defer
>
		function MyViewModel() {
			this.produce = ['Apple', 'Banana', 'Celery', 'Corn', 'Orange', 'Spinach' ];
			this.selectedProduce = ko.observableArray();
			this.selectedAllProduce = ko.computed({
				read: function(){
					console.log(this.selectedProduce().length === this.produce.length);
				},
				write: function(value) {
					console.log(value);
					this.selectedProduce(value ? this.produce.slice(0) : []);
				},
				owner: this
			})

		}

		ko.applyBindings(new MyViewModel());
	</script>
</html>